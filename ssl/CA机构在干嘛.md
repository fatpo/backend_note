# 去 CA 机构在申请证书步骤：

第一步：
```
生成客户端的密钥，即客户端的公私钥对，且要保证私钥只有客户端自己拥有。
```

第二步：
```
以客户端的密钥和客户端自身的信息(国家、机构、域名、邮箱等)为输入，生成证书请求文件。
ps:
  * 其中客户端的公钥和客户端信息是明文保存在证书请求文件中的
  * 而客户端私钥的作用是对客户端公钥及客户端信息做签名，自身是不包含在证书请求中的。
然后把证书请求文件发送给CA机构。
```

第三步：
```
CA机构接收到客户端的证书请求文件后，首先校验其签名，然后审核客户端的信息。

最后CA机构使用自己的私钥为证书请求文件签名，生成证书文件，下发给客户端。

此证书就是客户端的身份证，来表明用户的身份。至此客户端申请证书流程结束。
```

# 证书怎么用
其中涉及到证书签发机构CA，CA是被绝对信任的机构。如果把客户端证书比作用户身份证，那么CA就是颁发身份证的机构，我们以https为例说明证书的用处。

为了数据传输安全，越来越多的网站启用https。
* 1、在https握手阶段，服务器首先把自己的证书发送给用户(浏览器)；
* 2、浏览器查看证书中的发证机构，然后在机器内置的证书中（在PC或者手机上，内置了世界上著名的CA机构的证书）查找对应CA证书；
* 3、然后使用内置的证书公钥校验服务器的证书真伪；
* 4、如果校验失败，浏览器会提示服务器证书有问题，询问用户是否继续。

例如12306网站，它使用的自签名的证书，所以浏览器会提示证书有问题，在12306的网站上有提示下载安装根证书，其用户就是把自己的根证书安装到用户机器的内置证书中，这样浏览器就不会报证书错误。但是注意，除非特别相信某个机构，否则不要在机器上随便导入证书，很危险。
